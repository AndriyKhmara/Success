<!DOCTYPE html>
<html>
	<head> 
	    <meta charset="utf-8"/>
	    <link rel="stylesheet" href="../css/bookStyle.css"/>
		<title>Пророждающие паттерны</title>
	</head>
	<body>
		<a href="../index.html" >
		<div id="button">
				<p>HOME</p>
		</div>
		</a>		
			<div class="content">
				<h3>Паттерн Builder</h3>
				<p><b><i>Название и классификация паттерна</i></b></p>
				<p>Строитель - паттерн, порождающий объекты.</p>
				<p><b><i>Назначение</i></b></p>
				 <p>Отделяет конструирование сложного объекта от его представления, так что
				в результате одного и того же процесса конструирования могут получаться раз
				ные представления.</p>
				<p><b><i>Мотивация</p></b></i>
				 <p>Программа, в которую заложена возможность распознавания и чтения доку
				мента в формате RTF (Rich Text Format), должна также «уметь» преобразовывать
				его во многие другие форматы, например в простой ASCII-текст или в представ
				ление, которое можно отобразить в виджете для ввода текста. Однако число веро
				ятных преобразований заранее неизвестно. Поэтому должна быть обеспечена воз
				можность без труда добавлять новый конвертор.</p>
				 <p>Таким образом, нужно сконфигурировать класс RTFReader с помощью объек
				та Text Converter, который мог бы преобразовывать RTF в другой текстовый
				формат. При разборе документа в формате RTF класс RTFReader вызывает
				TextConverter для выполнения преобразования. Всякий раз, как RTFReader
				распознает лексему RTF (простой текст или управляющее слово), для ее преобра
				зования объекту TextConverter посылается запрос. Объекты TextConverter
				отвечают как за преобразование данных, так и за представление лексемы в кон
				кретном формате.</p>
			 	 <p>Подклассы TextConverter специализируются на различных преобразованиях
				и форматах. Например, ASCIIConverter игнорирует запросы на преобразование
				чего бы то ни было, кроме простого текста. С другой стороны, TeXConverter будет
				реализовывать все запросы для получения представления в формате редактора TJX,
				собирая по ходу необходимую информацию о стилях. A Text Widget Converter
				станет строить сложный объект пользовательского интерфейса, который позво
				лит пользователю просматривать и редактировать текст.</p>
				<img src="../img/book/103.jpg" alt="#"/>
				 <p>Класс каждого конвертора принимает механизм создания и сборки сложного
				объекта и скрывает его за абстрактным интерфейсом. Конвертор отделен от загруз
				чика, который отвечает за синтаксический разбор RTF-документа.</p>
				 <p>В паттерне строитель абстрагированы все эти отношения. В нем любой класс
				конвертора называется строителем, а загрузчик - распорядителем. В применении
				к рассмотренному примеру строитель отделяет алгоритм интерпретации форма
				та текста (то есть анализатор RTF-документов) от того, как создается и представля
				ется документ в преобразованном формате. Это позволяет повторно использовать
				алгоритм разбора, реализованный в RTFReader, для создания разных текстовых
				представлений RTF-документов; достаточно передать в RTFReader различные под
				классы класса Text Converter.</p>
				<p><b><i>Применимость</p></b></i>
				Используйте паттерн строитель, когда:
				<ul>
				<li>а алгоритм создания сложного объекта не должен зависеть от того, из каких
					частей состоит объект и как они стыкуются между собой;</li>
				<li>а процесс конструирования должен обеспечивать различные представления
					конструируемого объекта.</li>
				</ul>
				<p><b><i>Структура</p></b></i>
				<img src="../img/book/104.jpg" alt="#"/>
				<p><b><i>Участники</p></b></i>
				<ul>
					<li>a <b>Builder</b> (TextConverter) - строитель:
						<ul>
						<li>
						- задает абстрактный интерфейс для создания частей объекта Product;
						</li>
						</ul>
					</li>
					<li>a <b>ConcreteBuilder</b> (ASCIIConverter,TeXConverter,TextWidgetConverter)-
					конкретный строитель:
						<ul>
						<li>
						- конструирует и собирает вместе части продукта посредством реализации
					интерфейса Builder;</li>
						<li>
						- определяет создаваемое представление и следит за ним;</li>
						<li>
						- предоставляет интерфейс для доступа к продукту (например, GetASCI IText,
					GetTextWidget);</li>
						</ul>
					</li>
					<li>a <b>Director</b> (RTFReader) - распорядитель:
						<ul>
						<li>
						- конструирует объект, пользуясь интерфейсом Builder;
						</li>
						</ul>
					</li>	
					<li>a <b>Product</b> (ASCIIText, TeXText, TextWidget) - продукт:
						<ul>
						<li>
						- представляет сложный конструируемый объект. ConcreteBuilder
						строит внутреннее представление продукта и определяет процесс его
						сборки;
						</li>
						<li>
						- включает классы, которые определяют составные части, в том числе ин-
						терфейсы для сборки конечного результата из частей.
						</li>
						</ul>
					</li>
				</ul>
				<p><b><i>Отношения</p></b></i>
				<ul>

				<li>а клиент создает объект-распорядитель Director и конфигурирует его нуж-
						ным объектом-строителем Builder;</li>
				<li>а распорядитель уведомляет строителя о том, что нужно построить очеред-
						ную часть продукта;</li>
				<li>а строитель обрабатывает запросы распорядителя и добавляет новые части
						к продукту;</li>
				<li>а клиент забирает продукт у строителя.</li>
				</ul>
				 <p>Следующая диаграмма взаимодействий иллюстрирует взаимоотношения стро-
				ителя и распорядителя с клиентом.</p>
				<img src="../img/book/105.jpg" alt="#"/>
			

		</div>
	</body>
</html>